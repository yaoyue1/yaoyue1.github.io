<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>百分比进度条</title>
	<style>
	*{padding:0;margin:0;}
	html,body{width: 100%;height: 100%;}
	#mycanvas{background:#000;margin:100px;}
	</style>
</head>
<body>
	<canvas id= "mycanvas" width='500' height='500'></canvas>
</body>
<script src="//res.jiuyan.info/lib/zepto/1.2.0/zepto.min.js"></script>
<script>
$(function(){
	var cvs = document.getElementById('mycanvas');
	var ctx = cvs.getContext('2d');
	var centerX = cvs.width/2;
	var centerY = cvs.height/2;
	var rad = Math.PI*2/100;
	var initNum = 0.1;
	var speed = 0.2;
	function blueCircle(n){
		ctx.save();
		ctx.strokeStyle = "#49f";
		ctx.lineWidth = 5;
		ctx.beginPath();
		ctx.arc(centerX, centerY, 200,-Math.PI/2, -Math.PI/2+n*rad,false);
		ctx.stroke();
		ctx.closePath();
		ctx.restore();
	}
	function  whiteCircle(){
		ctx.save();
		ctx.beginPath();
		ctx.strokeStyle = "white";
		ctx.arc(centerX, centerY, 200, 0,Math.PI*2,false);
		ctx.stroke();
		ctx.closePath();
		ctx.restore();
	}

	function text(n){
		ctx.save();
		ctx.strokeStyle = "#49f";
		ctx.font = '40px Arial'
		ctx.strokeText(n.toFixed(0)+'%',centerX-25, centerY+10);
		ctx.stroke();
		ctx.restore();
	}
	draw()
	function draw(){
		window.requestAnimationFrame(draw);
		ctx.clearRect(0, 0, cvs.width, cvs.height);
		whiteCircle()
		text(initNum);
		blueCircle(initNum);
		initNum+=speed;
		if(initNum>100){
			initNum = 100
		}
	}


})
</script>
</html>